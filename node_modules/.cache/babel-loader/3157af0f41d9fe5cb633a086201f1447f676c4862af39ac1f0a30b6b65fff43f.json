{"ast":null,"code":"var _jsxFileName = \"C:\\\\Brevix\\\\frontend\\\\src\\\\pages\\\\PDFViewer.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { API } from '../App';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Button } from '../components/ui/button';\nimport { Card, CardHeader, CardContent } from '../components/ui/card';\nimport { Input } from '../components/ui/input';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../components/ui/tabs';\nimport { toast } from 'sonner';\nimport { ArrowLeft, FileText, MessageSquare, Sparkles, Mic, Volume2, Send, Download } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PDFViewer({\n  user,\n  onLogout\n}) {\n  _s();\n  var _pdf$text_content;\n  const {\n    pdfId\n  } = useParams();\n  const navigate = useNavigate();\n  const [pdf, setPdf] = useState(null);\n  const [summaries, setSummaries] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [summarizing, setSummarizing] = useState(false);\n  const [chatMessage, setChatMessage] = useState('');\n  const [chatMessages, setChatMessages] = useState([]);\n  const [sessionId] = useState(() => `session-${Date.now()}`);\n  const [isRecording, setIsRecording] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const mediaRecorderRef = useRef(null);\n  const chatEndRef = useRef(null);\n  useEffect(() => {\n    fetchPDF();\n    fetchSummaries();\n    fetchChatHistory();\n  }, [pdfId]);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [chatMessages]);\n  const fetchPDF = async () => {\n    try {\n      const response = await axios.get(`${API}/pdf/${pdfId}`);\n      setPdf(response.data);\n    } catch (error) {\n      toast.error('Failed to fetch PDF');\n      navigate('/');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchSummaries = async () => {\n    try {\n      const response = await axios.get(`${API}/summaries/${pdfId}`);\n      setSummaries(response.data);\n    } catch (error) {\n      console.error('Failed to fetch summaries');\n    }\n  };\n  const fetchChatHistory = async () => {\n    try {\n      const response = await axios.get(`${API}/chat/history/${pdfId}?session_id=${sessionId}`);\n      if (response.data.messages) {\n        setChatMessages(response.data.messages);\n      }\n    } catch (error) {\n      console.error('Failed to fetch chat history');\n    }\n  };\n  const handleSummarize = async mode => {\n    setSummarizing(true);\n    try {\n      const response = await axios.post(`${API}/summarize`, {\n        pdf_id: pdfId,\n        mode,\n        length: mode === 'custom' ? 200 : null\n      });\n      setSummaries([response.data, ...summaries]);\n      toast.success('Summary generated successfully!');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'Failed to generate summary');\n    } finally {\n      setSummarizing(false);\n    }\n  };\n  const handleChat = async message => {\n    if (!message.trim()) return;\n    const userMessage = {\n      user: message,\n      timestamp: new Date().toISOString()\n    };\n    setChatMessages([...chatMessages, userMessage]);\n    setChatMessage('');\n    try {\n      const response = await axios.post(`${API}/chat`, {\n        pdf_id: pdfId,\n        message,\n        session_id: sessionId\n      });\n      const assistantMessage = {\n        assistant: response.data.response,\n        timestamp: new Date().toISOString()\n      };\n      setChatMessages(prev => [...prev, assistantMessage]);\n    } catch (error) {\n      toast.error('Failed to get response');\n      setChatMessages(prev => prev.slice(0, -1));\n    }\n  };\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      const mediaRecorder = new MediaRecorder(stream);\n      const audioChunks = [];\n      mediaRecorder.ondataavailable = event => {\n        audioChunks.push(event.data);\n      };\n      mediaRecorder.onstop = async () => {\n        const audioBlob = new Blob(audioChunks, {\n          type: 'audio/webm'\n        });\n        const formData = new FormData();\n        formData.append('file', audioBlob, 'recording.webm');\n        try {\n          const response = await axios.post(`${API}/voice/transcribe`, formData, {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          });\n          setChatMessage(response.data.text);\n          toast.success('Transcription complete!');\n        } catch (error) {\n          toast.error('Failed to transcribe audio');\n        }\n        stream.getTracks().forEach(track => track.stop());\n      };\n      mediaRecorder.start();\n      mediaRecorderRef.current = mediaRecorder;\n      setIsRecording(true);\n    } catch (error) {\n      toast.error('Failed to access microphone');\n    }\n  };\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n    }\n  };\n  const speakText = text => {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.onstart = () => setIsSpeaking(true);\n      utterance.onend = () => setIsSpeaking(false);\n      window.speechSynthesis.speak(utterance);\n    } else {\n      toast.error('Text-to-speech not supported');\n    }\n  };\n  const exportSummary = summary => {\n    const element = document.createElement('a');\n    const file = new Blob([summary.content], {\n      type: 'text/plain'\n    });\n    element.href = URL.createObjectURL(file);\n    element.download = `summary-${summary.summary_type}.txt`;\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"glass-effect shadow-sm border-b border-white/20\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => navigate('/'),\n            \"data-testid\": \"back-to-dashboard\",\n            variant: \"outline\",\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), \"Back\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              className: \"w-6 h-6 text-indigo-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-xl font-bold text-gray-800\",\n              \"data-testid\": \"pdf-title\",\n              children: pdf === null || pdf === void 0 ? void 0 : pdf.filename\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-7xl mx-auto px-4 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2 space-y-6\",\n          children: /*#__PURE__*/_jsxDEV(Tabs, {\n            defaultValue: \"summary\",\n            className: \"w-full\",\n            children: [/*#__PURE__*/_jsxDEV(TabsList, {\n              className: \"grid w-full grid-cols-2 glass-effect\",\n              children: [/*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"summary\",\n                \"data-testid\": \"summary-tab\",\n                children: \"Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n                value: \"chat\",\n                \"data-testid\": \"chat-tab\",\n                children: \"Chat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"summary\",\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"glass-effect shadow-xl\",\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-xl font-bold text-gray-800\",\n                    children: \"Generate Summary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-wrap gap-2 mt-4\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      onClick: () => handleSummarize('brief'),\n                      \"data-testid\": \"brief-summary-button\",\n                      disabled: summarizing,\n                      className: \"btn-primary text-white\",\n                      children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                        className: \"w-4 h-4 mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 228,\n                        columnNumber: 25\n                      }, this), \"Brief Summary\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: () => handleSummarize('detailed'),\n                      \"data-testid\": \"detailed-summary-button\",\n                      disabled: summarizing,\n                      className: \"btn-secondary text-white\",\n                      children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                        className: \"w-4 h-4 mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 237,\n                        columnNumber: 25\n                      }, this), \"Detailed Summary\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: () => handleSummarize('custom'),\n                      \"data-testid\": \"custom-summary-button\",\n                      disabled: summarizing,\n                      variant: \"outline\",\n                      children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                        className: \"w-4 h-4 mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 246,\n                        columnNumber: 25\n                      }, this), \"Custom (200 words)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 240,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: [summarizing && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-center py-8\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-3 text-gray-600\",\n                      children: \"Generating summary...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-4\",\n                    \"data-testid\": \"summaries-container\",\n                    children: summaries.map(summary => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-4 bg-white/50 rounded-lg border border-indigo-200\",\n                      \"data-testid\": `summary-${summary.id}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center justify-between mb-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-sm font-semibold text-indigo-600 uppercase\",\n                          children: summary.summary_type\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 266,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex gap-2\",\n                          children: [/*#__PURE__*/_jsxDEV(Button, {\n                            size: \"sm\",\n                            variant: \"outline\",\n                            onClick: () => speakText(summary.content),\n                            \"data-testid\": `speak-summary-${summary.id}`,\n                            children: /*#__PURE__*/_jsxDEV(Volume2, {\n                              className: \"w-4 h-4\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 276,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 270,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            size: \"sm\",\n                            variant: \"outline\",\n                            onClick: () => exportSummary(summary),\n                            \"data-testid\": `export-summary-${summary.id}`,\n                            children: /*#__PURE__*/_jsxDEV(Download, {\n                              className: \"w-4 h-4\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 284,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 278,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 269,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 265,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-gray-700 whitespace-pre-wrap\",\n                        children: summary.content\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 288,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500 mt-2\",\n                        children: new Date(summary.created_at).toLocaleString()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 289,\n                        columnNumber: 27\n                      }, this)]\n                    }, summary.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n              value: \"chat\",\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"glass-effect shadow-xl\",\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-xl font-bold text-gray-800\",\n                    children: \"Chat with Document\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-4 h-96 overflow-y-auto mb-4\",\n                    \"data-testid\": \"chat-messages\",\n                    children: [chatMessages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"chat-message\",\n                      children: [msg.user && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-end mb-2\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"bg-indigo-600 text-white px-4 py-2 rounded-2xl rounded-tr-sm max-w-md\",\n                          \"data-testid\": \"user-message\",\n                          children: msg.user\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 311,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 29\n                      }, this), msg.assistant && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-start mb-2\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"bg-white/70 text-gray-800 px-4 py-2 rounded-2xl rounded-tl-sm max-w-md shadow-sm\",\n                          \"data-testid\": \"assistant-message\",\n                          children: msg.assistant\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 318,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 317,\n                        columnNumber: 29\n                      }, this)]\n                    }, idx, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 25\n                    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                      ref: chatEndRef\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      onClick: isRecording ? stopRecording : startRecording,\n                      \"data-testid\": \"voice-input-button\",\n                      variant: \"outline\",\n                      className: isRecording ? 'bg-red-100' : '',\n                      children: /*#__PURE__*/_jsxDEV(Mic, {\n                        className: `w-4 h-4 ${isRecording ? 'text-red-600' : ''}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      value: chatMessage,\n                      onChange: e => setChatMessage(e.target.value),\n                      onKeyPress: e => e.key === 'Enter' && handleChat(chatMessage),\n                      placeholder: \"Ask a question about the document...\",\n                      \"data-testid\": \"chat-input\",\n                      className: \"flex-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: () => handleChat(chatMessage),\n                      \"data-testid\": \"send-chat-button\",\n                      className: \"btn-primary text-white\",\n                      children: /*#__PURE__*/_jsxDEV(Send, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 349,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            className: \"glass-effect shadow-xl\",\n            \"data-testid\": \"document-info\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold text-gray-800\",\n                children: \"Document Info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Filename\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium text-gray-800\",\n                  children: pdf === null || pdf === void 0 ? void 0 : pdf.filename\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Pages\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium text-gray-800\",\n                  children: pdf === null || pdf === void 0 ? void 0 : pdf.page_count\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Uploaded\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium text-gray-800\",\n                  children: (pdf === null || pdf === void 0 ? void 0 : pdf.upload_date) && new Date(pdf.upload_date).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Size\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium text-gray-800\",\n                  children: [(pdf === null || pdf === void 0 ? void 0 : pdf.file_size) && (pdf.file_size / 1024).toFixed(2), \" KB\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium text-green-600 capitalize\",\n                  children: pdf === null || pdf === void 0 ? void 0 : pdf.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"glass-effect shadow-xl\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold text-gray-800\",\n                children: \"Document Preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white/50 p-4 rounded-lg border border-indigo-200 max-h-96 overflow-y-auto\",\n                \"data-testid\": \"document-preview\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-700 whitespace-pre-wrap\",\n                  children: [pdf === null || pdf === void 0 ? void 0 : (_pdf$text_content = pdf.text_content) === null || _pdf$text_content === void 0 ? void 0 : _pdf$text_content.substring(0, 1000), \"...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 5\n  }, this);\n}\n_s(PDFViewer, \"90lsD5T6kaLXu7UWkIydbenaHW0=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = PDFViewer;\nvar _c;\n$RefreshReg$(_c, \"PDFViewer\");","map":{"version":3,"names":["useState","useEffect","useRef","axios","API","useParams","useNavigate","Button","Card","CardHeader","CardContent","Input","Tabs","TabsContent","TabsList","TabsTrigger","toast","ArrowLeft","FileText","MessageSquare","Sparkles","Mic","Volume2","Send","Download","jsxDEV","_jsxDEV","PDFViewer","user","onLogout","_s","_pdf$text_content","pdfId","navigate","pdf","setPdf","summaries","setSummaries","loading","setLoading","summarizing","setSummarizing","chatMessage","setChatMessage","chatMessages","setChatMessages","sessionId","Date","now","isRecording","setIsRecording","isSpeaking","setIsSpeaking","mediaRecorderRef","chatEndRef","fetchPDF","fetchSummaries","fetchChatHistory","_chatEndRef$current","current","scrollIntoView","behavior","response","get","data","error","console","messages","handleSummarize","mode","post","pdf_id","length","success","_error$response","_error$response$data","detail","handleChat","message","trim","userMessage","timestamp","toISOString","session_id","assistantMessage","assistant","prev","slice","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","audioChunks","ondataavailable","event","push","onstop","audioBlob","Blob","type","formData","FormData","append","headers","text","getTracks","forEach","track","stop","start","stopRecording","speakText","window","utterance","SpeechSynthesisUtterance","onstart","onend","speechSynthesis","speak","exportSummary","summary","element","document","createElement","file","content","href","URL","createObjectURL","download","summary_type","body","appendChild","click","removeChild","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","variant","filename","defaultValue","value","disabled","map","id","size","created_at","toLocaleString","msg","idx","ref","onChange","e","target","onKeyPress","key","placeholder","page_count","upload_date","file_size","toFixed","status","text_content","substring","_c","$RefreshReg$"],"sources":["C:/Brevix/frontend/src/pages/PDFViewer.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { API } from '../App';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Button } from '../components/ui/button';\nimport { Card, CardHeader, CardContent } from '../components/ui/card';\nimport { Input } from '../components/ui/input';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../components/ui/tabs';\nimport { toast } from 'sonner';\nimport { ArrowLeft, FileText, MessageSquare, Sparkles, Mic, Volume2, Send, Download } from 'lucide-react';\n\nexport default function PDFViewer({ user, onLogout }) {\n  const { pdfId } = useParams();\n  const navigate = useNavigate();\n  const [pdf, setPdf] = useState(null);\n  const [summaries, setSummaries] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [summarizing, setSummarizing] = useState(false);\n  const [chatMessage, setChatMessage] = useState('');\n  const [chatMessages, setChatMessages] = useState([]);\n  const [sessionId] = useState(() => `session-${Date.now()}`);\n  const [isRecording, setIsRecording] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const mediaRecorderRef = useRef(null);\n  const chatEndRef = useRef(null);\n\n  useEffect(() => {\n    fetchPDF();\n    fetchSummaries();\n    fetchChatHistory();\n  }, [pdfId]);\n\n  useEffect(() => {\n    chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [chatMessages]);\n\n  const fetchPDF = async () => {\n    try {\n      const response = await axios.get(`${API}/pdf/${pdfId}`);\n      setPdf(response.data);\n    } catch (error) {\n      toast.error('Failed to fetch PDF');\n      navigate('/');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchSummaries = async () => {\n    try {\n      const response = await axios.get(`${API}/summaries/${pdfId}`);\n      setSummaries(response.data);\n    } catch (error) {\n      console.error('Failed to fetch summaries');\n    }\n  };\n\n  const fetchChatHistory = async () => {\n    try {\n      const response = await axios.get(`${API}/chat/history/${pdfId}?session_id=${sessionId}`);\n      if (response.data.messages) {\n        setChatMessages(response.data.messages);\n      }\n    } catch (error) {\n      console.error('Failed to fetch chat history');\n    }\n  };\n\n  const handleSummarize = async (mode) => {\n    setSummarizing(true);\n    try {\n      const response = await axios.post(`${API}/summarize`, {\n        pdf_id: pdfId,\n        mode,\n        length: mode === 'custom' ? 200 : null,\n      });\n      setSummaries([response.data, ...summaries]);\n      toast.success('Summary generated successfully!');\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Failed to generate summary');\n    } finally {\n      setSummarizing(false);\n    }\n  };\n\n  const handleChat = async (message) => {\n    if (!message.trim()) return;\n\n    const userMessage = { user: message, timestamp: new Date().toISOString() };\n    setChatMessages([...chatMessages, userMessage]);\n    setChatMessage('');\n\n    try {\n      const response = await axios.post(`${API}/chat`, {\n        pdf_id: pdfId,\n        message,\n        session_id: sessionId,\n      });\n      const assistantMessage = {\n        assistant: response.data.response,\n        timestamp: new Date().toISOString(),\n      };\n      setChatMessages((prev) => [...prev, assistantMessage]);\n    } catch (error) {\n      toast.error('Failed to get response');\n      setChatMessages((prev) => prev.slice(0, -1));\n    }\n  };\n\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mediaRecorder = new MediaRecorder(stream);\n      const audioChunks = [];\n\n      mediaRecorder.ondataavailable = (event) => {\n        audioChunks.push(event.data);\n      };\n\n      mediaRecorder.onstop = async () => {\n        const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });\n        const formData = new FormData();\n        formData.append('file', audioBlob, 'recording.webm');\n\n        try {\n          const response = await axios.post(`${API}/voice/transcribe`, formData, {\n            headers: { 'Content-Type': 'multipart/form-data' },\n          });\n          setChatMessage(response.data.text);\n          toast.success('Transcription complete!');\n        } catch (error) {\n          toast.error('Failed to transcribe audio');\n        }\n\n        stream.getTracks().forEach((track) => track.stop());\n      };\n\n      mediaRecorder.start();\n      mediaRecorderRef.current = mediaRecorder;\n      setIsRecording(true);\n    } catch (error) {\n      toast.error('Failed to access microphone');\n    }\n  };\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n    }\n  };\n\n  const speakText = (text) => {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.onstart = () => setIsSpeaking(true);\n      utterance.onend = () => setIsSpeaking(false);\n      window.speechSynthesis.speak(utterance);\n    } else {\n      toast.error('Text-to-speech not supported');\n    }\n  };\n\n  const exportSummary = (summary) => {\n    const element = document.createElement('a');\n    const file = new Blob([summary.content], { type: 'text/plain' });\n    element.href = URL.createObjectURL(file);\n    element.download = `summary-${summary.summary_type}.txt`;\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\">\n      {/* Header */}\n      <header className=\"glass-effect shadow-sm border-b border-white/20\">\n        <div className=\"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <Button\n              onClick={() => navigate('/')}\n              data-testid=\"back-to-dashboard\"\n              variant=\"outline\"\n              className=\"flex items-center gap-2\"\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n              Back\n            </Button>\n            <div className=\"flex items-center gap-3\">\n              <FileText className=\"w-6 h-6 text-indigo-600\" />\n              <h1 className=\"text-xl font-bold text-gray-800\" data-testid=\"pdf-title\">{pdf?.filename}</h1>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Left Panel - Summary & Chat */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            <Tabs defaultValue=\"summary\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-2 glass-effect\">\n                <TabsTrigger value=\"summary\" data-testid=\"summary-tab\">Summary</TabsTrigger>\n                <TabsTrigger value=\"chat\" data-testid=\"chat-tab\">Chat</TabsTrigger>\n              </TabsList>\n\n              {/* Summary Tab */}\n              <TabsContent value=\"summary\">\n                <Card className=\"glass-effect shadow-xl\">\n                  <CardHeader>\n                    <h3 className=\"text-xl font-bold text-gray-800\">Generate Summary</h3>\n                    <div className=\"flex flex-wrap gap-2 mt-4\">\n                      <Button\n                        onClick={() => handleSummarize('brief')}\n                        data-testid=\"brief-summary-button\"\n                        disabled={summarizing}\n                        className=\"btn-primary text-white\"\n                      >\n                        <Sparkles className=\"w-4 h-4 mr-2\" />\n                        Brief Summary\n                      </Button>\n                      <Button\n                        onClick={() => handleSummarize('detailed')}\n                        data-testid=\"detailed-summary-button\"\n                        disabled={summarizing}\n                        className=\"btn-secondary text-white\"\n                      >\n                        <Sparkles className=\"w-4 h-4 mr-2\" />\n                        Detailed Summary\n                      </Button>\n                      <Button\n                        onClick={() => handleSummarize('custom')}\n                        data-testid=\"custom-summary-button\"\n                        disabled={summarizing}\n                        variant=\"outline\"\n                      >\n                        <Sparkles className=\"w-4 h-4 mr-2\" />\n                        Custom (200 words)\n                      </Button>\n                    </div>\n                  </CardHeader>\n                  <CardContent>\n                    {summarizing && (\n                      <div className=\"flex items-center justify-center py-8\">\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"></div>\n                        <span className=\"ml-3 text-gray-600\">Generating summary...</span>\n                      </div>\n                    )}\n                    <div className=\"space-y-4\" data-testid=\"summaries-container\">\n                      {summaries.map((summary) => (\n                        <div\n                          key={summary.id}\n                          className=\"p-4 bg-white/50 rounded-lg border border-indigo-200\"\n                          data-testid={`summary-${summary.id}`}\n                        >\n                          <div className=\"flex items-center justify-between mb-2\">\n                            <span className=\"text-sm font-semibold text-indigo-600 uppercase\">\n                              {summary.summary_type}\n                            </span>\n                            <div className=\"flex gap-2\">\n                              <Button\n                                size=\"sm\"\n                                variant=\"outline\"\n                                onClick={() => speakText(summary.content)}\n                                data-testid={`speak-summary-${summary.id}`}\n                              >\n                                <Volume2 className=\"w-4 h-4\" />\n                              </Button>\n                              <Button\n                                size=\"sm\"\n                                variant=\"outline\"\n                                onClick={() => exportSummary(summary)}\n                                data-testid={`export-summary-${summary.id}`}\n                              >\n                                <Download className=\"w-4 h-4\" />\n                              </Button>\n                            </div>\n                          </div>\n                          <p className=\"text-gray-700 whitespace-pre-wrap\">{summary.content}</p>\n                          <p className=\"text-xs text-gray-500 mt-2\">\n                            {new Date(summary.created_at).toLocaleString()}\n                          </p>\n                        </div>\n                      ))}\n                    </div>\n                  </CardContent>\n                </Card>\n              </TabsContent>\n\n              {/* Chat Tab */}\n              <TabsContent value=\"chat\">\n                <Card className=\"glass-effect shadow-xl\">\n                  <CardHeader>\n                    <h3 className=\"text-xl font-bold text-gray-800\">Chat with Document</h3>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-4 h-96 overflow-y-auto mb-4\" data-testid=\"chat-messages\">\n                      {chatMessages.map((msg, idx) => (\n                        <div key={idx} className=\"chat-message\">\n                          {msg.user && (\n                            <div className=\"flex justify-end mb-2\">\n                              <div className=\"bg-indigo-600 text-white px-4 py-2 rounded-2xl rounded-tr-sm max-w-md\" data-testid=\"user-message\">\n                                {msg.user}\n                              </div>\n                            </div>\n                          )}\n                          {msg.assistant && (\n                            <div className=\"flex justify-start mb-2\">\n                              <div className=\"bg-white/70 text-gray-800 px-4 py-2 rounded-2xl rounded-tl-sm max-w-md shadow-sm\" data-testid=\"assistant-message\">\n                                {msg.assistant}\n                              </div>\n                            </div>\n                          )}\n                        </div>\n                      ))}\n                      <div ref={chatEndRef} />\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <Button\n                        onClick={isRecording ? stopRecording : startRecording}\n                        data-testid=\"voice-input-button\"\n                        variant=\"outline\"\n                        className={isRecording ? 'bg-red-100' : ''}\n                      >\n                        <Mic className={`w-4 h-4 ${isRecording ? 'text-red-600' : ''}`} />\n                      </Button>\n                      <Input\n                        value={chatMessage}\n                        onChange={(e) => setChatMessage(e.target.value)}\n                        onKeyPress={(e) => e.key === 'Enter' && handleChat(chatMessage)}\n                        placeholder=\"Ask a question about the document...\"\n                        data-testid=\"chat-input\"\n                        className=\"flex-1\"\n                      />\n                      <Button\n                        onClick={() => handleChat(chatMessage)}\n                        data-testid=\"send-chat-button\"\n                        className=\"btn-primary text-white\"\n                      >\n                        <Send className=\"w-4 h-4\" />\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              </TabsContent>\n            </Tabs>\n          </div>\n\n          {/* Right Panel - Document Info */}\n          <div className=\"space-y-6\">\n            <Card className=\"glass-effect shadow-xl\" data-testid=\"document-info\">\n              <CardHeader>\n                <h3 className=\"text-xl font-bold text-gray-800\">Document Info</h3>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                <div>\n                  <p className=\"text-sm text-gray-600\">Filename</p>\n                  <p className=\"font-medium text-gray-800\">{pdf?.filename}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Pages</p>\n                  <p className=\"font-medium text-gray-800\">{pdf?.page_count}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Uploaded</p>\n                  <p className=\"font-medium text-gray-800\">\n                    {pdf?.upload_date && new Date(pdf.upload_date).toLocaleString()}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Size</p>\n                  <p className=\"font-medium text-gray-800\">\n                    {pdf?.file_size && (pdf.file_size / 1024).toFixed(2)} KB\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600\">Status</p>\n                  <p className=\"font-medium text-green-600 capitalize\">{pdf?.status}</p>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"glass-effect shadow-xl\">\n              <CardHeader>\n                <h3 className=\"text-xl font-bold text-gray-800\">Document Preview</h3>\n              </CardHeader>\n              <CardContent>\n                <div className=\"bg-white/50 p-4 rounded-lg border border-indigo-200 max-h-96 overflow-y-auto\" data-testid=\"document-preview\">\n                  <p className=\"text-sm text-gray-700 whitespace-pre-wrap\">\n                    {pdf?.text_content?.substring(0, 1000)}...\n                  </p>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}